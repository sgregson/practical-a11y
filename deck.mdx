import { Appear, Head, Notes, Code } from "mdx-deck";
import { FullScreenCode, Invert, Split } from "mdx-deck/layouts";
import { CodeSurfer } from "mdx-deck-code-surfer";
const allGotchas = require("!raw-loader!./examples/example-gotchas.jsx");

import fromTheme, {
  Card,
  Flex,
  Block,
  RelativeLayout,
  Caption,
  Image,
  Img,
  Text,
  List,
  Grid
} from "./theme";

export const theme = fromTheme;

<Head>
  <meta property="og:type" content="website" />
  <title>Practical Web Accessibility</title>
  <meta name="twitter:title" content="Practical Web Accessibility" />
  <meta
    name="twitter:description"
    content="A practical guide to making usable sites for everyone"
  />
  <meta name="twitter:card" content="summary_large_image" />
  <meta
    name="twitter:image"
    content="https://practical-a11y.now.sh/src/img/card.png?v=2"
  />
  <meta name="twitter:domain" value="practical-a11y.now.sh" />
  <meta name="twitter:url" value="https://practical-a11y.now.sh/" />
  <meta name="twitter:label1" value="BostonPHP Meetup" />
  <meta name="twitter:data1" value="Jan 23, 2019" />
  <meta name="twitter:label2" value="Updated" />
  <meta name="twitter:data2" value="Jan 25, 2019" />
</Head>

## Hello world!

thanks `BostonPHP` for having us  
& thanks `Wayfair` for hosting us!

<Caption>
  find this at{" "}
  <a href="https://practical-a11y.now.sh" target="_blank">
    https://practical-a11y.now.sh
  </a>
</Caption>

---

## Who I am

<List>
  <Appear>
    <li>Spencer Gregson</li>
    <li>
      Frontend Engineer <strong>@Wayfair</strong>
    </li>
    <li>Accessibility Enthusiast</li>
    <li>Owner of cat, a plurality bikes and guitars</li>
    <li>Former Architectural Designer</li>
  </Appear>
</List>

```notes
"and why I'm giving this talk"

...read the slide (5 bullets)

That last one is where I got my started with Accessibility.
```

---

<Image src="/src/img/AlMaryahIsland.jpg">
  <h1>whether this ↑</h1>
  <Caption>Al Maryah Island, Abu Dhabi, UAE</Caption>
</Image>

```notes
Whether working on the designs of buildings and cities, in this case a Master Plan for an island in Abu Dhabi
```

---

<Image src="/src/img/inForm_ipads.jpg">
  <h1>or these ↓</h1>
  <Caption>InForm Exhibit, BSA</Caption>
</Image>

```notes
greatly informed my role as a software engineer.

This was an interactive gallery exhibit for the Boston Society of Architects
```

---

export default RelativeLayout;

### Accessibility informs every aspect of what we do as creators of products and experiences

---

export default Split;

<Appear>
  <Img src="/src/img/xmas_profile.jpg" />
</Appear>

## That said

<List unstyled>
  <li>
    <small>
      My thoughts and opinions are my own and don't necessarily reflect those of
      my current or former employers
    </small>
  </li>
</List>

```notes
I'm going to try and keep this focused on Accessibility for the Web, but if you're interested in all that "other stuff", come grab me later.
```

---

# 😅 so

```notes
So, with that out of the way let's talk accessibility.
```

---

<Image src="/src/img/open_road.jpg">
  <h1>The Road Ahead</h1>

  <Caption>[Unsplash] Photo by Aleksandr Kozlovskii</Caption>
</Image>

```notes
Someone once told me that you need to tell people where you're going before you even set off, so let's take a look at where I hope we all end up at the end of tonight.
```

---

export default RelativeLayout;

### `Practical Web Accessibility`

<Grid gutter="10px">
  <Flex flex="0 0 33.333%">
    <h2>
      <Text>What it is</Text>
    </h2>
  </Flex>
  <Flex flex="0 0 33.333%">
    <h2>
      <Text>How to do it</Text>
    </h2>
  </Flex>
  <Flex flex="0 0 33.333%">
    <h2>
      <Text>Preventing regression</Text>
    </h2>
  </Flex>
</Grid>

<Grid gutter="10px">
  <Appear>
    <Flex flex="0 0 33.333%">
      <Text>Knowing is half the battle</Text>
    </Flex>
    <Flex flex="0 0 33.333%">
      <Text>If you can't fix it, don't break it</Text>
    </Flex>
    <Flex flex="0 0 33.333%">
      <Text>Let fixed problems stay fixed</Text>
    </Flex>
  </Appear>
</Grid>

```notes
Tonight we're talking about Practical Web Accessibility and I hope you come away knowing three things about it from a developer-centric point of view
```

---

export default RelativeLayout;

# 1. What is Accessibility

<Caption>
  you'll often see it abbreviated <code>a11y</code>...
</Caption>

```notes
AKA "a11y" (pronounced ally, like the bank, or well-meaning members of a majority social group, or the british)

Hopefully by the end of this presentation you'll know three things about Web Accessibility
```

---

export default RelativeLayout;

### `Usability`

<Text>
  <code>
    The extent to which a product can be used by specified users to achieve
    specified goals with effectiveness, efficiency and satisfaction in a
    specified context of use.
  </code>
</Text>

<small>
  Software Engineering specification <strong>ISO 9241-11</strong>
</small>

<Caption>
  <a href="https://www.interaction-design.org/literature/topics/usability">
    https://www.interaction-design.org/
  </a>
</Caption>

```notes
Usability is the ease of use and learnability of a human-made object such as a tool or device.

Accessibility is Usability applied to our users with disabilities - so generally we're just going to talk about Usability, because Accessibility is Usability for All
```

---

<Img src="/src/img/Stevie_Wonder_Grammys.jpg" />

<Appear>
  <Text>
    <em>You'd better believe this guy shops online</em>
  </Text>
</Appear>

```notes
Chances are you already had a good / loose idea what accessibility was. Those of us who talk about Accessibility a lot dwell on the importance of humanizing the process.

This was Stevie Wonder at the 2016 Grammys
```

---

### `What you probably want to know`

**How does this impact me?**

**How does this impact my site?**

**What do I need to learn?**

---

export default RelativeLayout;

**How does this impact me?**

- The requirements vary by client and audience
- This has already been a requirement for <strong>EDU</strong> & <strong>GOV</strong> <small><br/>hopefully you knew that already?</small>
- **TL;DR:** Either you love reading specifications, in which case you'll love the WCAG¹ <br/><strong>OR</strong> build up a list of topics which make you think <strong>"is this accessible?"</strong>

<Caption>¹Web Content Accessibility Guidelines</Caption>

---

**How does this impact my site?**

- Your audience just got bigger! NICE!
- You're looking at / into new functional testing, updates to some tooling, and ideally real user testing

```notes
On the one hand,

The testing burden should be minor. The goal of section three of this talk is to help you automate the majority of it.
```

---

export default RelativeLayout;

**What do I need to learn?**

- Learn to identify common anti-patterns in code and design
- The aim here is creating an improved experience  
  "Compliance" doesn't mean you're done
- I'm going to go through what I think are the most common and highest impact "gotchas" in Accessibility.
- Our guide here is the <strong>WCAG Level AA</strong> criteria

<Caption>
  There are <strong>a lot</strong> of granular details in the{" "}
  <a href="https://www.w3.org/TR/WCAG21">WCAG</a>
</Caption>

---

export default RelativeLayout;

## `What rules apply?`

1. Working on a .gov or .edu site? **YES**<small><br/>hopefully you already know about **section 508** regulations</small><br/><br/>
1. Selling things the public can buy? **YES**¹ <small><br/>time to look at the Web Content Accessibility Guidelines (**WCAG**)</small>

<Caption>¹ Until courts figure out exact details</Caption>

---

export default Invert;

<CodeSurfer
  title="Wrong HTML Element (Common)"
  code={allGotchas}
  lang="jsx"
  dark={true}
  steps={[
    {},
    { range: [1, 8], notes: "When a button's not a button..." },
    { range: [10, 12], notes: "When a button's not a button..." },
    {
      range: [14, 17],
      notes: "I'm sure your're already familiar with the recommendation here"
    },
    {
      lines: [19, 20, 21, 22, 23, 24, 25, 27],
      notes:
        "sometimes I'm asked what it would take to make that div into a button"
    },
    { lines: [26] }
  ]}
/>

```notes
Worth noting that these examples are given in plain HTML, because it doesn't matter however you're coding the
we're going to start with some common ones and work our way up
```

---

## Lessons from not-a-button

- Use the HTML element wherever possible
- Creating a Button out of a div takes **a lot** more than adding an `onClick`

---

export default Invert;

<CodeSurfer
  title="Text Alternatives (Common, also Difficult)"
  code={allGotchas}
  lang="jsx"
  dark={true}
  steps={[
    {},
    { range: [29, 32] },
    { range: [34, 35], notes: "good! empty alt means it's decorative, right?" },
    { range: [36, 38], notes: "...aria-hidden helps your fellow engineer" },
    {
      range: [40, 41],
      notes: "But if you're using templates..."
    },
    {
      range: [43, 44],
      notes: "find a way to make sure you always get a correct result"
    },
    {
      range: [46, 52],
      notes: () => (
        <div>
          A button or link which looks like:
          <br />
          <svg
            height="1em"
            aria-hidden="true"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 512 512"
          >
            <path
              fill="currentColor"
              d="M416 448h-84c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h84c17.7 0 32-14.3 32-32V160c0-17.7-14.3-32-32-32h-84c-6.6 0-12-5.4-12-12V76c0-6.6 5.4-12 12-12h84c53 0 96 43 96 96v192c0 53-43 96-96 96zm-47-201L201 79c-15-15-41-4.5-41 17v96H24c-13.3 0-24 10.7-24 24v96c0 13.3 10.7 24 24 24h136v96c0 21.5 26 32 41 17l168-168c9.3-9.4 9.3-24.6 0-34z"
            />
          </svg>
          {"\u00A0"}
          <small>©FontAwesome</small>
        </div>
      )
    }
  ]}
/>

---

## Lessons from missing alt

<small>
  Text alternatives are usually one of the most difficult pieces of accessibiliy
  to fix, depending on your setup and scale. A CMS like wordpress, an Image
  Service, or a Typed language will help guarantee text alternatives
</small>

- Follow the W3 alt text [decision tree](https://www.w3.org/WAI/tutorials/images/decision-tree/)

---

# 2. OK, How do I Start?

---

## `Validate your assumptions`

And embrace the firehose

- Your site may not be as bad off as you think
- But it also could be much much worse 😉

---

## `'Sup Tools?`

- **aXe** by the team at **[deque](https://www.deque.com/axe/)** <Appear><small><br/>
  <a href="http://bitly.com/aXe-Chrome">chrome</a> /
  <a href="http://bit.ly/aXe-Firefox">ff</a>,
  <a href="https://github.com/dequelabs/axe-core#getting-started">NodeJS Command Line</a>,
  <a href="https://github.com/dequelabs/axe-webdriverjs">Selenium</a></small></Appear>
- **pa11y** a runner of the HTMLCodeSniffer <Appear><small><br/>
  <a href="">CLI</a>, <a href="https://www.npmjs.com/package/pa11y-ci">Continuous Integration tool</a></small></Appear>

```notes
If you've never tested your site before, usually the most direct way is to point an auditor at it.

There are a lot of them out there. Choosing comes down to confidence in the results and providing actionable content.

My personal favorite two are aXe and pa11y - they're
```

---

export default Invert;

<CodeSurfer
  title="Pa11y-CI"
  code={require("!raw-loader!./examples/example-pa11y-ci.sh")}
  lang="bash"
  dark={true}
  steps={[
    { lines: [1, 2], notes: "install once" },
    {
      range: [4, 5],
      notes: "omitting `--no-install` == huge puppeteer download"
    },
    {
      notes: () => (
        <Img
          src="/src/img/npx-pa11y-ci.gif"
          style={{ maxHeight: "80vh", margin: "auto" }}
        />
      )
    },
    { range: [7, 8] },
    { range: [10, 11] }
  ]}
/>

```notes
The only requirement to run this is NodeJS installed on your machine. If you have an old version of Node (specifically with a version of npm < 5.2), you can just `npm install -g npm`.
```

---

# Keeping issues fixed

It's dangerous to go alone ⚔️

```notes
So the big question is "I've solved it, how do I keep it that way?"

Because it's the worst thing to find out that you've worked on a
```

---

## `Again, Pa11y-CI`

Behold the power of the config object

---

export default Invert;

<CodeSurfer
  title="Pa11y-CI"
  code={require("!raw-loader!./examples/example-pa11y-config.js")}
  lang="json"
  dark={true}
  steps={[
    {},
    { notes: "pretty much what you'd expect" },
    { range: [1, 1], notes: "a JSON config file" },
    { range: [3, 7], notes: "and an array of URLs with some defaults" },
    { range: [9, 24], notes: "and now this:  Holy Automation Batman 🤯 " },
    {
      range: [12, 18],
      notes: () => (
        <Img
          src="/src/img/batman.gif"
          style={{ maxHeight: "80vh", margin: "auto" }}
        />
      )
    },
    {
      range: [9, 24],
      notes: () => (
        <React.Fragment>
          <a target="_blank" href="https://github.com/pa11y/pa11y#actions">
            Actions Documentation
          </a>{" "}
          the possibilities are HUGE
        </React.Fragment>
      )
    }
  ]}
/>

```notes
pretty much what you'd expect: a config file with an array of URLs

but this automation!
```

---

## Keeping issues fixed

- Implementing persistent automation isn't any harder than spot-checking your site
- And spot-checking your site is pretty darn straightforward

---

# 4. Takeaways

---

`"wow, this is all pretty straightforward"`

<List ordered>
  <Appear>
    <li>
      A11y is all about usability and making sure your app reaches the largest
      audience it can
    </li>
    <li>
      The <strong>WCAG document</strong> is your guide to getting accessibility
      right <strong>Level AA is the best practice</strong>
      <br />
      The Acceptance Criteria give nuanced explanations for all issues you will
      find
    </li>
    <li>
      There are a LOT of tools to help analyze the state of your code and site
      <br />
      <strong>Build time</strong> (static analysis) - eslint-plugin-jsx-a11y
      <br />
      <strong>Runtime</strong> (library-dependent) - react-a11y
      <br />
      <strong>DOM-parsing</strong> (URL/DOM → results) - aXe, pa11y, pa11y-ci
    </li>
  </Appear>
</List>

---

export default RelativeLayout;

### `Practical Web Accessibility`

<Grid gutter="10px">
  <Flex flex="0 0 33.333%">
    <h2>
      <Text>What it is</Text>
    </h2>
  </Flex>
  <Flex flex="0 0 33.333%">
    <h2>
      <Text>How to do it</Text>
    </h2>
  </Flex>
  <Flex flex="0 0 33.333%">
    <h2>
      <Text>Preventing regression</Text>
    </h2>
  </Flex>
</Grid>

<Grid gutter="10px">
  <Flex flex="0 0 33.333%">
    <Text>Knowing is half the battle</Text>
  </Flex>
  <Flex flex="0 0 33.333%">
    <Text>If you can't fix it, don't break it</Text>
  </Flex>
  <Flex flex="0 0 33.333%">
    <Text>Let fixed problems stay fixed</Text>
  </Flex>
</Grid>

---

# Fin

<Img src="/src/img/closing.gif" />

```notes

# DRAFT CONTENT (pull above the fold)

Like I said in the abstract of this talk, I have three assumptions:

1. Know nothing (but are hopefully a fast learner)

   > This is new content for a lot of people! Even if you don't know anything about this "Accessibility" thing – there will be no assumptions of prior experience.

2. Have Questions

   > Building accessible sites can be tough - we'll dig into the details of how to test and evaluate how usable your site is and how to prevent regressions.

3. Want to Learn

   > How accessibility will impact their site / business - Web Accessibility guidelines are the same for all sites but don't affect every site equally. We'll talk about sites which have tackled this topic well, those who tackled it poorly, and who benefits from tackling this early (hint: everyone!).
```
